import{_ as v,a as i,c as u,b as l,n as S,u as c,F as k,h as T,s as H,i as A,j as K,t as m,e as M,r as x,f as w,k as V,g as O,l as J,o as Z,p as L,m as F,w as U,q as Q,d as h,v as X,R as D}from"./index.592f016d.js";import{u as $}from"./role.1c085070.js";import{u as C}from"./audio.435a8200.js";const Y=["src"],q=["src"],ee={__name:"ViewMage",setup(a){const t=$(),e=[{id:0,class:"npc gereng",src:"mage/gif_gereng.gif"},{id:1,class:"npc tree",src:"mage/gif_tree.gif"},{id:1,class:"monster arachnevil",src:"mage/gif_arachnevil.gif"},{id:2,class:"monster zombie topLeft no1",src:"mage/gif_zombieTopLeft.gif"},{id:3,class:"monster zombie topLeft no2",src:"mage/gif_zombieTopLeft.gif"},{id:4,class:"monster zombie topLeft no3",src:"mage/gif_zombieTopLeft.gif"},{id:5,class:"monster zombie topLeft no4",src:"mage/gif_zombieTopLeft.gif"},{id:6,class:"monster zombie top no1",src:"mage/gif_zombieTop.gif"},{id:7,class:"monster zombie top no2",src:"mage/gif_zombieTop.gif"},{id:8,class:"monster zombie topRight no1",src:"mage/gif_zombieTopRight.gif"},{id:9,class:"monster zombie topRight no2",src:"mage/gif_zombieTopRight.gif"},{id:10,class:"monster zombie topRight no3",src:"mage/gif_zombieTopRight.gif"},{id:11,class:"monster zombie topRight no4",src:"mage/gif_zombieTopRight.gif"},{id:12,class:"monster zombie right no1",src:"mage/gif_zombieRight.gif"},{id:13,class:"monster zombie right no2",src:"mage/gif_zombieRight.gif"},{id:14,class:"monster zombie bottomRight no1",src:"mage/gif_zombieBottomRight.gif"},{id:15,class:"monster zombie bottomRight no2",src:"mage/gif_zombieBottomRight.gif"},{id:16,class:"monster zombie bottom no1",src:"mage/gif_zombieBottom.gif"},{id:17,class:"monster zombie bottom no2",src:"mage/gif_zombieBottom.gif"},{id:18,class:"monster zombie bottomLeft no1",src:"mage/gif_zombieBottomLeft.gif"},{id:19,class:"monster zombie bottomLeft no2",src:"mage/gif_zombieBottomLeft.gif"}];return(o,s)=>(i(),u(k,null,[l("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,Y),(i(),u(k,null,T(e,n=>l("img",{key:n.id,class:S(n.class),src:c(t).getUrlForHashWhenProd(n.src)},null,10,q)),64))],64))}},te=v(ee,[["__scopeId","data-v-458a0dab"]]);const se=["src"],oe={__name:"ViewKnight",setup(a){const t=$();return(e,o)=>(i(),u("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,se))}},re=v(oe,[["__scopeId","data-v-69b6dcfa"]]);const le=["src"],ae=["src"],ce={__name:"ViewRoyal",setup(a){const t=$(),e=[{id:0,class:"mage rowOne1",src:"royal/gif_mage.gif"},{id:1,class:"mage rowOne2",src:"royal/gif_mage.gif"},{id:2,class:"elf rowOne1",src:"royal/gif_elfMale.gif"},{id:3,class:"elf rowOne2",src:"royal/gif_elfMale.gif"},{id:4,class:"elf rowOne3",src:"royal/gif_elfMale.gif"},{id:5,class:"elf rowOne4",src:"royal/gif_elfMale.gif"},{id:6,class:"elf rowOne5",src:"royal/gif_elfMale.gif"},{id:7,class:"elf rowOne6",src:"royal/gif_elfMale.gif"},{id:8,class:"elf rowOne7",src:"royal/gif_elfMale.gif"},{id:9,class:"elf rowTwo1 female",src:"royal/gif_elfFemale.gif"},{id:10,class:"elf rowTwo2 female",src:"royal/gif_elfFemale.gif"},{id:11,class:"elf rowTwo3",src:"royal/gif_elfMale.gif"},{id:12,class:"elf rowTwo4",src:"royal/gif_elfMale.gif"},{id:13,class:"monster rowOne1",src:"royal/gif_skeleton.gif"},{id:14,class:"monster rowOne2",src:"royal/gif_skeleton.gif"},{id:15,class:"monster rowOne3",src:"royal/gif_skeleton.gif"},{id:16,class:"monster rowOne4",src:"royal/gif_skeleton.gif"},{id:17,class:"monster rowOne5",src:"royal/gif_skeleton.gif"},{id:18,class:"monster rowTwo1",src:"royal/gif_skeleton.gif"},{id:19,class:"monster rowTwo2",src:"royal/gif_skeleton.gif"},{id:20,class:"monster rowTwo3",src:"royal/gif_skeleton.gif"},{id:21,class:"monster rowTwo4",src:"royal/gif_skeleton.gif"},{id:22,class:"monster rowTwo5",src:"royal/gif_skeleton.gif"},{id:23,class:"chair",src:"royal/gif_chair.gif"},{id:24,class:"table",src:"royal/gif_table.gif"}];return(o,s)=>(i(),u(k,null,[l("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,le),(i(),u(k,null,T(e,n=>l("img",{key:n.id,class:S(n.class),src:c(t).getUrlForHashWhenProd(n.src)},null,10,ae)),64))],64))}},ne=v(ce,[["__scopeId","data-v-666ae33f"]]);const ie=["src"],_e=["src"],ue={__name:"ViewDarkElf",setup(a){const t=$();return(e,o)=>(i(),u(k,null,[l("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,ie),l("img",{class:"deathKnight",src:c(t).getUrlForHashWhenProd("darkElf/img_deathKnight.webp")},null,8,_e)],64))}},de=v(ue,[["__scopeId","data-v-5dfa2879"]]);const ge=["src"],me={__name:"ViewElf",setup(a){const t=$();return(e,o)=>(i(),u("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,ge))}},fe=v(me,[["__scopeId","data-v-eb8b0429"]]);const pe={class:"panelView"},he={__name:"PanelView",setup(a){const t=$(),{role:e}=H(t);return(o,s)=>(i(),u("figure",pe,[c(e).currentRole==="elf"?(i(),A(fe,{key:0})):c(e).currentRole==="mage"?(i(),A(te,{key:1})):c(e).currentRole==="royal"?(i(),A(ne,{key:2})):c(e).currentRole==="knight"?(i(),A(re,{key:3})):c(e).currentRole==="darkElf"?(i(),A(de,{key:4})):K("",!0)]))}};const ye={class:"uiHp"},be={class:"hp"},ve={class:"mp"},$e={__name:"UIHp",setup(a){const t=$();return(e,o)=>(i(),u("ul",ye,[l("li",be," HP:"+m(c(t).role.currentData.basic.hp)+"/"+m(c(t).role.currentData.basic.hp),1),l("li",ve," MP:"+m(c(t).role.currentData.basic.mp)+"/"+m(c(t).role.currentData.basic.mp),1)]))}},we=v($e,[["__scopeId","data-v-3bf7113e"]]),N=M("scroll",()=>{const a=x({targetScroll:null,changeScroll:e=>{switch(e){case"F6":a.targetScroll="whiteArmor";break;case"F7":a.targetScroll="blessedArmor";break;case"F8":a.targetScroll="cursedArmor";break;case"F10":a.targetScroll="whiteWeapon";break;case"F11":a.targetScroll="blessedWeapon";break;case"F12":a.targetScroll="cursedWeapon";break;default:a.targetScroll=null;break}}});function t(e){if(a.targetScroll!==null&&typeof e=="string")return a.targetScroll.toLowerCase().includes(e.toLowerCase().trim())}return{scroll:a,isScrollType:t}}),W=M("algorithm",()=>{const a=$(),t=E(),e=N(),o=x({bonus:0,value:null,state:null,success:null,rollStateOneTo:r=>{o.state=Number(Math.floor(Math.random()*r)+1)}}),s=x({name:null,value:null,category:null,delayTime:3e3,safetyValue:null,isEquipMatchScroll:w(()=>e.isScrollType(s.category.substring(0,6))),equipGoneEffect:(r,g)=>{let _=r.armor,d=r.mr;a.calcEquipAttribute(!1,r),g.target.classList.toggle("hidden"),r.armor=0,d===void 0||(r.mr=0),setTimeout(()=>{g.target.classList.toggle("hidden"),r.armor=_,r.mr=d,a.calcEquipAttribute(!0,r)},s.delayTime)},isCategoryType:r=>{if(s.category!==null)return typeof r!="string"?r:s.category.toLowerCase().includes(r.toLowerCase())}}),n=w(()=>(function(){o.value=Number((Math.random()*100).toFixed(2))}(),function(){const g=()=>{const b=w(()=>Math.abs(s.value)<s.safetyValue),f=y=>Math.abs(s.value)<y;b.value?o.success=100:f(9)?o.success=33.33+o.bonus:o.success=10+o.bonus},_=()=>{const b=w(()=>Math.abs(s.value)<s.safetyValue),f=w(()=>o.success=Number((1/Math.abs(s.value)*100+o.bonus).toFixed(2))),y=R=>Math.abs(s.value)<R;b.value?o.success=100:y(9)?f.value:o.success=10+o.bonus},d=w(()=>s.value<0&&e.isScrollType("blessed")||s.value<0&&e.isScrollType("white"));if(w(()=>s.safetyValue<=s.value&&e.isScrollType("cursed")).value)return o.success=100;if(d.value)return o.success=100;s.isCategoryType("weapon")?g():s.isCategoryType("armor")&&_()}(),o.value<=o.success));function p(r,g){if(!s.isEquipMatchScroll)return;const _=b=>{if(!n.value){o.state=0,t.updateChatState(),s.value=0,s.equipGoneEffect(r,g);return}o.rollStateOneTo(b),t.updateChatState(),e.isScrollType("cursed")?s.value--:s.value+=o.state,o.state=null,e.scroll.targetScroll=null},d=b=>{let f=0;o.rollStateOneTo(b);const y=()=>{o.state=f===0?-1:1,t.updateChatState()};o.state===1?e.isScrollType("white")&&(f=1):(e.isScrollType("cursed")&&(f=-1),e.isScrollType("blessed")&&(f=1)),y(),s.value+=f,o.state=null,e.scroll.targetScroll=null},I=()=>/(blessed)|(white)|(cursed)/g.exec(e.scroll.targetScroll)[0];if(n.value){switch(I()){case"blessed":if(s.value<3)return _(3);if(s.value<6)return _(2);if(s.value<9)return _(1);d(3);break;case"white":if(s.value>=9)return d(3);_(1);break;case"cursed":if(s.value<=-9)return d(2);_(1);break}return}_(0)}return{dice:o,target:s,algorithmSystem:p}}),E=M("chat",()=>{const a=N(),t=W(),e=x({lines:Array(7),showNumber:w(()=>t.target.value<0?t.target.value:`+${t.target.value}`),detectColor:w(()=>a.isScrollType("cursed")?"\u9ED1\u8272\u7684":t.target.isCategoryType("weapon")?"\u85CD\u8272\u7684":"\u9280\u8272\u7684"),updateArmor:()=>{e.pushAndShiftArrary("\u8ACB\u9078\u64C7\u4E00\u7A2E\u9632\u5177\u3002")},updateWeapon:()=>{e.pushAndShiftArrary("\u8ACB\u9078\u64C7\u4E00\u7A2E\u6B66\u5668\u3002")},updateForOne:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u4E00\u77AC\u9593\u767C\u51FA ${e.detectColor} \u5149\u8292\u3002`)},updateForGone:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u7522\u751F\u6FC0\u70C8\u7684 ${e.detectColor} \u5149\u8292\uFF0C\u4E00\u6703\u5152\u5F8C\u5C31\u6D88\u5931\u4E86\u3002`)},updateForNope:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u6301\u7E8C\u767C\u51FA \u6FC0\u70C8\u7684 ${e.detectColor}\u5149\u8292\uFF0C\u4F46\u662F\u6C92\u6709\u4EFB\u4F55\u4E8B\u60C5\u767C\u751F\u3002`)},updateForTwoUp:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u6301\u7E8C\u767C\u51FA ${e.detectColor} \u5149\u8292\u3002`)},pushAndShiftArrary:p=>{typeof p=="string"&&(e.lines.push(p),e.lines.shift())}});function o(){e.lines=Array(7)}function s(){a.scroll.targetScroll!==null&&(a.scroll.targetScroll.includes("Armor")&&e.updateArmor(),a.scroll.targetScroll.includes("Weapon")&&e.updateWeapon())}function n(){t.dice.state===-1?e.updateForNope():t.dice.state===0?e.updateForGone():t.dice.state===1?e.updateForOne():e.updateForTwoUp()}return{chat:e,cleanChatLines:o,updateChatState:n,updateChatScroll:s}});const Ie={class:"uiChat"},Se={__name:"UIChat",setup(a){const t=E();return(e,o)=>(i(),u("ul",Ie,[(i(!0),u(k,null,T(c(t).chat.lines,(s,n)=>(i(),u("li",{key:n},m(s),1))),128))]))}},Ue=v(Se,[["__scopeId","data-v-c9f9246d"]]),Ce=[{id:0,hotkey:"F5",src:"slot/slot_empty.webp",name:"\u66AB\u6642\u7A7A\u767D",description:""},{id:1,hotkey:"F6",src:"slot/slot_whiteArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u80FD\u589E\u52A0\u9632\u5177\u7684\u9632\u79A6\u529B"},{id:2,hotkey:"F7",src:"slot/slot_blessedArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u88DD\u5099\u5F37\u5316\u6578\u503C(+1~3)"},{id:3,hotkey:"F8",src:"slot/slot_cursedArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u88DD\u5099\u5F37\u5316\u6578\u503C(-1)"},{id:4,hotkey:"F9",src:"slot/slot_empty.webp",name:"\u66AB\u6642\u7A7A\u767D",description:""},{id:5,hotkey:"F10",src:"slot/slot_whiteWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u80FD\u589E\u52A0\u6B66\u5668\u7684\u653B\u64CA\u529B"},{id:6,hotkey:"F11",src:"slot/slot_blessedWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u6B66\u5668\u5F37\u5316\u6578\u503C(+1~3)"},{id:7,hotkey:"F12",src:"slot/slot_cursedWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u6B66\u5668\u5F37\u5316\u6578\u503C(-1)"}];const ke={class:"uiSlot"},Re=["src"],Ae={class:"slotInfo"},Te={__name:"UISlot",setup(a){V(g=>({"24f5867e":e.value}));const t=O(Ce),e=O(""),o=$(),s=E(),n=N(),p=g=>{const _={grey:"var(--color-grey)",white:"var(--color-white)",yellow:"var(--color-yellow)",red:"var(--color-red)"};return/blessed/.test(g)?e.value=_.yellow:/cursed/.test(g)?e.value=_.red:e.value=_.white},r=g=>{const _=Array.from(document.querySelector(".uiSlot").children);g.preventDefault(),g.stopPropagation(),_.forEach(d=>{const I=y=>{d.lastElementChild.style.opacity=y},b=y=>d.classList.remove(y),f=y=>d.classList.add(y);b("active"),I(0),d.matches(`.${g.key}`)&&(p(d.firstChild.src),f("active"),I(1),n.scroll.changeScroll(g.key),s.updateChatScroll())})};return J(()=>document.addEventListener("keydown",r)),Z(()=>document.removeEventListener("keydown",r)),(g,_)=>(i(),u("section",ke,[(i(!0),u(k,null,T(t.value,d=>(i(),u("figure",{key:d.id,class:S(d.hotkey)},[l("img",{src:c(o).getUrlForHashWhenProd(d.src)},null,8,Re),l("figcaption",Ae,[l("h1",null,m(d.name),1),l("p",null,m(d.description),1)])],2))),128))]))}},xe=v(Te,[["__scopeId","data-v-4f0dce11"]]);const G=a=>(L("data-v-c217ee78"),a=a(),F(),a),Le={class:"uiNumber"},Fe=G(()=>l("li",{class:"line1"},[l("div",{class:"lv"},"1"),l("div",{class:"exp"},"0.00%")],-1)),Ne={class:"line2"},Ee={class:"ac"},ze=G(()=>l("div",{class:"state"},"0",-1)),Me={__name:"UINumber",setup(a){const t=$();return(e,o)=>(i(),u("ul",Le,[Fe,l("li",Ne,[l("div",Ee,m(c(t).getAC),1),ze])]))}},Ve=v(Me,[["__scopeId","data-v-c217ee78"]]);const Pe=["onClick"],Oe=l("li",{class:"close"},null,-1),De=l("li",{class:"content"},"\u672A\u958B\u653E",-1),He=[Oe,De],We={__name:"UIRelationShip",setup(a){const t=C(),e=o=>{const s=o.target,n=()=>{(()=>{s.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};if(s.tagName!=="UL"&&s.className==="close")return n()};return(o,s)=>(i(),u("ul",{class:"uiRelationship",onClick:U(e,["stop"])},He,8,Pe))}};const Ge=["onClick"],Be=l("li",{class:"close"},null,-1),je=[Be],Ke={__name:"UIItems",setup(a){const t=C(),e=o=>{const s=o.target,n=()=>{(()=>{s.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};if(s.tagName!=="FIGURE"&&s.className==="close")return n()};return(o,s)=>(i(),u("figure",{class:"uiItems",onClick:U(e,["stop"])},je,8,Ge))}};const Je=["onClick"],Ze=l("li",{class:"close"},null,-1),Qe={class:"magicNumber"},Xe=l("li",{class:"magicPower"},"0",-1),Ye={class:"magicResist"},qe={__name:"UIMagic",setup(a){const t=$(),e=C(),o=s=>{const n=s.target,p=()=>{(()=>{n.parentElement.classList.remove("visible")})(),e.clickToPlayAudio("UI/audio_itemsClose.mp3")};n.tagName!=="UL"&&n.className==="close"&&p()};return(s,n)=>(i(),u("ul",{class:"uiMagic",onClick:U(o,["stop"])},[Ze,l("ul",Qe,[Xe,l("li",Ye,m(c(t).getMR),1)])],8,Je))}};const et=a=>(L("data-v-e6b9aabf"),a=a(),F(),a),tt={class:"uiHelp"},st=["onClick"],ot=et(()=>l("li",{class:"textContainer"},[l("h1",{class:"title"},"Side project\u7531\u4F86"),l("p",{class:"content"},m(`     
    \u9748\u611F\u4F86\u6E90\u70BA\u201C\u5929\u5802\u7206\u7206\u6A02\u903C\u771F\u7248\u201D\uFF0C\u4E3B\u8981\u662F\u7DF4\u7FD2\u6280\u80FD\u548C\u56DE\u61B6\u5929\u5802\u3002

    \u7576\u7B2C\u4E00\u7248\u5FA9\u523B\u5B8C\u6210\u5F8C\uFF0C\u7E3D\u89BA\u5F97\u9084\u53EF\u4EE5\u52A0\u4E9B\u4EC0\u9EBC\uFF0C\u6240\u4EE5\u5C31\u8E0F\u4E0A\u4E86\u7684\u512A\u5316\u65C5\u7A0B\u3002
    
    \u8CC7\u6599\u548C\u7D20\u6750\u53D6\u81EA\u7DB2\u8DEF\u3001\u5929\u5802\uFF37\u3001\u5DF4\u54C8\u59C6\u7279\u3001\u5B98\u65B9\u7DB2\u7AD9\u4EE5\u53CA\u904A\u6232\u4E3B\u7A0B\u5F0F\u3002`))],-1)),rt={__name:"UIHelp",setup(a){const t=C(),e=o=>{(()=>{o.target.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};return(o,s)=>(i(),u("ul",tt,[l("li",{class:"close",onClick:U(e,["stop"])},null,8,st),ot]))}},lt=v(rt,[["__scopeId","data-v-e6b9aabf"]]);const at={class:"uiRoleNumber"},ct={class:"level"},nt={class:"lv"},it={class:"exp"},_t={class:"basic"},ut={class:"attributes"},dt={class:"er"},gt={__name:"UIRoleNumber",setup(a){const t=$(),{role:e}=H(t);return(o,s)=>(i(),u("ul",at,[l("ul",ct,[l("li",nt,m(c(e).currentData.basic.lv),1),l("li",it,m(c(e).currentData.basic.exp),1)]),l("ul",_t,[l("li",null,m(c(e).currentData.basic.hp)+"/"+m(c(e).currentData.basic.hp),1),l("li",null,m(c(e).currentData.basic.mp)+"/"+m(c(e).currentData.basic.mp),1),l("li",null,m(c(t).getAC),1)]),l("ul",ut,[l("li",null,m(c(e).currentData.basic.str),1),l("li",null,m(c(e).currentData.basic.dex),1),l("li",null,m(c(e).currentData.basic.con),1),l("li",null,m(c(e).currentData.basic.int),1),l("li",null,m(c(e).currentData.basic.wis),1),l("li",null,m(c(e).currentData.basic.cha),1)]),l("li",dt,m(c(t).getER()),1)]))}};const mt={class:"uiRoleEquip"},ft=["onClick","data-displayEquipInfo"],pt={__name:"uiRoleEquip",setup(a){V(r=>({"097c2ec4":s()}));const t=$(),e=W(),o=N(),s=()=>o.scroll.targetScroll===null?`url(${t.getUrlForHashWhenProd("UI/UI_pointer.webp")}), auto`:`url(${t.getUrlForHashWhenProd("UI/UI_target.webp")}), auto`,n=r=>{let g;const _=f=>f>=0?`+${f}`:f,d=()=>{const f=()=>`${_(r.value)} ${r.name} (\u4F7F\u7528\u4E2D)
\u9632\u79A6 ${r.armor}${_(r.value)}`,y=()=>`${_(r.value)} ${r.name} (\u63EE\u821E)
\u653B\u64CA\u529B ${r.attack.small}${_(r.value)}/${r.attack.large}${_(r.value)}`+P(),R=()=>`${r.name} (\u4F7F\u7528\u4E2D)`,P=()=>/雙手武器/.test(r.grip)?`
  \u96D9\u624B\u6B66\u5668`:"";if(r.category==="weapon")return y();if(r.category.includes("armor"))return f();if(r.category.includes("jewelry"))return R()},I=()=>{const f=()=>{const R=()=>{if(r.mr===void 0)return"";if(/cloak/.test(r.category))return _(r.mr+r.value*2);if(/helmet|bodyArmor/.test(r.category))return _(r.mr+r.value)};return`\u53EF\u4F7F\u7528\u8077\u696D:
${r.occupation}
  ${r.feature} ${R()}`},y=()=>`\u53EF\u4F7F\u7528\u8077\u696D:
${r.occupation}`;return r.feature?r.category.includes("jewelry")?"":f():y()},b=()=>r.category.includes("jewelry")?"":`\u6750\u8CEA:${r.material}
  \u91CD\u91CF ${r.weight}`;return g=`${d()}
  ${I()}
  ${b()}`,g},p=(r,g)=>{e.target.name=r.name,e.target.value=r.value,e.target.category=r.category,e.target.safetyValue=r.safetyValue,e.algorithmSystem(r,g),setTimeout(()=>{r.value=e.target.value},0)};return(r,g)=>(i(),u("ul",mt,[(i(!0),u(k,null,T(c(t).role.currentData.equips,_=>(i(),u("li",{key:_.id,class:S(["equip",_.category]),style:Q({backgroundImage:`url(${c(t).getUrlForHashWhenProd(_.src)})`}),onClick:U(d=>p(_,d),["stop"]),"data-displayEquipInfo":n(_)},null,14,ft))),128))]))}},ht=v(pt,[["__scopeId","data-v-a30d1bc3"]]);const yt={class:"uiRole visible"},bt=["onClick"],vt={__name:"UIRole",setup(a){const t=C(),e=o=>{(()=>{o.target.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};return(o,s)=>(i(),u("section",yt,[l("div",{class:"close",onClick:U(e,["stop"])},null,8,bt),h(gt),h(ht)]))}},$t=v(vt,[["__scopeId","data-v-1c0d0864"]]);const B=a=>(L("data-v-2b78753e"),a=a(),F(),a),wt=["onClick"],It=B(()=>l("li",{class:"close"},null,-1)),St=B(()=>l("li",null,"\u9078\u9805",-1)),Ut={class:"music"},Ct={__name:"UISetting",setup(a){const t=C(),e=w(()=>t.state?"\u958B":"\u95DC"),o=s=>{const n=s.target,p=()=>{(()=>{n.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")},r=()=>{t.state=!t.state,t.state===!0?t.playAudio():t.pauseAudio()};n.tagName!=="UL"&&(n.className==="music"&&r(),n.className==="close"&&p())};return(s,n)=>(i(),u("ul",{class:"uiSetting",onClick:U(o,["stop"])},[It,St,l("li",Ut,[X(" \u80CC\u666F\u97F3\u6548: "),l("span",null,m(c(e)),1)])],8,wt))}},kt=v(Ct,[["__scopeId","data-v-2b78753e"]]);const j=a=>(L("data-v-39712c70"),a=a(),F(),a),Rt=["onClick"],At=j(()=>l("li",{class:"close"},null,-1)),Tt=j(()=>l("li",{class:"cancel"},null,-1)),xt={__name:"UILogout",setup(a){const t=C(),e=E(),o=s=>{const n=s.target,p=()=>e.chat.lines=Array(7),r=()=>n.parentElement.classList.remove("visible");n.tagName!=="FIGURE"&&(n.className==="restart"&&p(),(n.className==="close"||n.className==="cancel")&&r(),t.clickToPlayAudio("UI/audio_itemsClose.mp3"))};return(s,n)=>(i(),u("figure",{class:"uiLogout",onClick:U(o,["stop"])},[At,h(c(D),{to:"/roles",class:"restart"}),h(c(D),{to:"/logout",class:"quit"}),Tt],8,Rt))}},Lt=v(xt,[["__scopeId","data-v-39712c70"]]);const Ft=["onClick"],Nt={class:"btnHelp"},Et={class:"btnRole"},zt={class:"btnMagic"},Mt={class:"btnItems"},Vt={class:"btnRelationship"},Pt={class:"btnSetting"},Ot={class:"btnLogout"},Dt={__name:"UIFunction",setup(a){const t=C(),e=o=>{if(o.target.tagName!=="LI")return;const s=["btnHelp","btnRole","btnSetting","btnRelationship"],n=["btnMagic","btnItems","btnLogout"],p=o.target.className,r=o.target.firstElementChild.className,g=o.target.firstElementChild.classList,_=y=>{Array.from(o.target.parentElement.children).filter(z=>y.includes(z.className)).map(({firstChild:{classList:z}})=>z.remove("visible"))},d=()=>r.includes("visible"),I=()=>s.includes(p),b=()=>g.toggle("visible"),f=()=>{d()?t.clickToPlayAudio("UI/audio_itemsClose.mp3"):t.clickToPlayAudio("UI/audio_itemsOpen.mp3")};if(d()){b(),f();return}I()?_(s):_(n),b(),f()};return(o,s)=>(i(),u("ul",{class:"uiFunction",onClick:U(e,["stop"])},[l("li",Nt,[h(lt)]),l("li",Et,[h($t)]),l("li",zt,[h(qe)]),l("li",Mt,[h(Ke)]),l("li",Vt,[h(We)]),l("li",Pt,[h(kt)]),l("li",Ot,[h(Lt)])],8,Ft))}},Ht=v(Dt,[["__scopeId","data-v-fea434a8"]]);const Wt={class:"panelUI"},Gt={__name:"PanelUI",setup(a){return(t,e)=>(i(),u("section",Wt,[h(we),h(Ue),h(xe),h(Ve),h(Ht)]))}};const Bt={class:"singlePlayerContainer"},jt=["src"],Qt={__name:"SinglePlayer",setup(a){V(o=>({"43932e50":c(t).role.currentBackGround}));const t=$(),e=C();return(o,s)=>(i(),u("article",Bt,[h(he),h(Gt),l("audio",{autoplay:"",loop:"",src:c(e).getRoleAudioUrl()},null,8,jt)]))}};export{Qt as default};
