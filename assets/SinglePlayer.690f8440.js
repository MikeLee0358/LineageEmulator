import{_ as v,a as i,c as u,b as a,n as S,u as c,F as x,r as L,s as j,i as V,j as Z,t as m,e as H,f as z,g as M,k as W,h as G,l as q,o as ee,p as P,m as D,w as U,q as te,d as f,v as se,R as B}from"./index.ab5d652e.js";import{u as $}from"./role.eca19a88.js";import{u as T}from"./audio.d020b45d.js";const oe=["src"],le=["src"],ae={__name:"ViewMage",setup(r){const t=$(),e=[{id:0,class:"npc gereng",src:"mage/gif_gereng.gif"},{id:1,class:"npc tree",src:"mage/gif_tree.gif"},{id:1,class:"monster arachnevil",src:"mage/gif_arachnevil.gif"},{id:2,class:"monster zombie topLeft no1",src:"mage/gif_zombieTopLeft.gif"},{id:3,class:"monster zombie topLeft no2",src:"mage/gif_zombieTopLeft.gif"},{id:4,class:"monster zombie topLeft no3",src:"mage/gif_zombieTopLeft.gif"},{id:5,class:"monster zombie topLeft no4",src:"mage/gif_zombieTopLeft.gif"},{id:6,class:"monster zombie top no1",src:"mage/gif_zombieTop.gif"},{id:7,class:"monster zombie top no2",src:"mage/gif_zombieTop.gif"},{id:8,class:"monster zombie topRight no1",src:"mage/gif_zombieTopRight.gif"},{id:9,class:"monster zombie topRight no2",src:"mage/gif_zombieTopRight.gif"},{id:10,class:"monster zombie topRight no3",src:"mage/gif_zombieTopRight.gif"},{id:11,class:"monster zombie topRight no4",src:"mage/gif_zombieTopRight.gif"},{id:12,class:"monster zombie right no1",src:"mage/gif_zombieRight.gif"},{id:13,class:"monster zombie right no2",src:"mage/gif_zombieRight.gif"},{id:14,class:"monster zombie bottomRight no1",src:"mage/gif_zombieBottomRight.gif"},{id:15,class:"monster zombie bottomRight no2",src:"mage/gif_zombieBottomRight.gif"},{id:16,class:"monster zombie bottom no1",src:"mage/gif_zombieBottom.gif"},{id:17,class:"monster zombie bottom no2",src:"mage/gif_zombieBottom.gif"},{id:18,class:"monster zombie bottomLeft no1",src:"mage/gif_zombieBottomLeft.gif"},{id:19,class:"monster zombie bottomLeft no2",src:"mage/gif_zombieBottomLeft.gif"}];return(s,o)=>(i(),u(x,null,[a("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,oe),(i(),u(x,null,L(e,n=>a("img",{key:n.id,class:S(n.class),src:c(t).getUrlForHashWhenProd(n.src)},null,10,le)),64))],64))}},re=v(ae,[["__scopeId","data-v-458a0dab"]]);const ce=["src"],ne={__name:"ViewKnight",setup(r){const t=$();return(e,s)=>(i(),u("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,ce))}},ie=v(ne,[["__scopeId","data-v-69b6dcfa"]]);const _e=["src"],ue=["src"],de={__name:"ViewRoyal",setup(r){const t=$(),e=[{id:0,class:"mage rowOne1",src:"royal/gif_mage.gif"},{id:1,class:"mage rowOne2",src:"royal/gif_mage.gif"},{id:2,class:"elf rowOne1",src:"royal/gif_elfMale.gif"},{id:3,class:"elf rowOne2",src:"royal/gif_elfMale.gif"},{id:4,class:"elf rowOne3",src:"royal/gif_elfMale.gif"},{id:5,class:"elf rowOne4",src:"royal/gif_elfMale.gif"},{id:6,class:"elf rowOne5",src:"royal/gif_elfMale.gif"},{id:7,class:"elf rowOne6",src:"royal/gif_elfMale.gif"},{id:8,class:"elf rowOne7",src:"royal/gif_elfMale.gif"},{id:9,class:"elf rowTwo1 female",src:"royal/gif_elfFemale.gif"},{id:10,class:"elf rowTwo2 female",src:"royal/gif_elfFemale.gif"},{id:11,class:"elf rowTwo3",src:"royal/gif_elfMale.gif"},{id:12,class:"elf rowTwo4",src:"royal/gif_elfMale.gif"},{id:13,class:"monster rowOne1",src:"royal/gif_skeleton.gif"},{id:14,class:"monster rowOne2",src:"royal/gif_skeleton.gif"},{id:15,class:"monster rowOne3",src:"royal/gif_skeleton.gif"},{id:16,class:"monster rowOne4",src:"royal/gif_skeleton.gif"},{id:17,class:"monster rowOne5",src:"royal/gif_skeleton.gif"},{id:18,class:"monster rowTwo1",src:"royal/gif_skeleton.gif"},{id:19,class:"monster rowTwo2",src:"royal/gif_skeleton.gif"},{id:20,class:"monster rowTwo3",src:"royal/gif_skeleton.gif"},{id:21,class:"monster rowTwo4",src:"royal/gif_skeleton.gif"},{id:22,class:"monster rowTwo5",src:"royal/gif_skeleton.gif"},{id:23,class:"chair",src:"royal/gif_chair.gif"},{id:24,class:"table",src:"royal/gif_table.gif"}];return(s,o)=>(i(),u(x,null,[a("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,_e),(i(),u(x,null,L(e,n=>a("img",{key:n.id,class:S(n.class),src:c(t).getUrlForHashWhenProd(n.src)},null,10,ue)),64))],64))}},ge=v(de,[["__scopeId","data-v-666ae33f"]]);const me=["src"],pe=["src"],fe={__name:"ViewDarkElf",setup(r){const t=$();return(e,s)=>(i(),u(x,null,[a("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,me),a("img",{class:"deathKnight",src:c(t).getUrlForHashWhenProd("darkElf/img_deathKnight.webp")},null,8,pe)],64))}},he=v(fe,[["__scopeId","data-v-5dfa2879"]]);const ye=["src"],be={__name:"ViewElf",setup(r){const t=$();return(e,s)=>(i(),u("img",{class:S(c(t).getGenderClass()),src:c(t).getGifUrl()},null,10,ye))}},ve=v(be,[["__scopeId","data-v-eb8b0429"]]);const we={class:"panelView"},$e={__name:"PanelView",setup(r){const t=$(),{role:e}=j(t);return(s,o)=>(i(),u("figure",we,[c(e).currentRole==="elf"?(i(),V(ve,{key:0})):c(e).currentRole==="mage"?(i(),V(re,{key:1})):c(e).currentRole==="royal"?(i(),V(ge,{key:2})):c(e).currentRole==="knight"?(i(),V(ie,{key:3})):c(e).currentRole==="darkElf"?(i(),V(he,{key:4})):Z("",!0)]))}};const Ie={class:"uiHp"},ke={class:"hp"},Ce={class:"mp"},Se={__name:"UIHp",setup(r){const t=$();return(e,s)=>(i(),u("ul",Ie,[a("li",ke," HP:"+m(c(t).role.currentData.basic.hp)+"/"+m(c(t).role.currentData.basic.hp),1),a("li",Ce," MP:"+m(c(t).role.currentData.basic.mp)+"/"+m(c(t).role.currentData.basic.mp),1)]))}},Ue=v(Se,[["__scopeId","data-v-3bf7113e"]]),E=H("scroll",()=>{const r=z({targetScroll:null,changeScroll:e=>{switch(e){case"F6":r.targetScroll="whiteArmor";break;case"F7":r.targetScroll="blessedArmor";break;case"F8":r.targetScroll="cursedArmor";break;case"F10":r.targetScroll="whiteWeapon";break;case"F11":r.targetScroll="blessedWeapon";break;case"F12":r.targetScroll="cursedWeapon";break;default:r.targetScroll=null;break}}});return{scroll:r,isScrollType:e=>{if(!(r.targetScroll===null||typeof e!="string"))return r.targetScroll.toLowerCase().includes(e.toLowerCase().trim())}}}),K=H("algorithm",()=>{const r=$(),t=O(),e=E(),s=z({bonus:0,value:null,state:null,successValue:null}),o=z({name:null,value:null,category:null,delayTime:3e3,safetyValue:null,isEquipMatchScrollType:M(()=>e.isScrollType(o.category.substring(0,6)))}),n=()=>(p(),b(),s.successValue>=s.value),p=()=>s.value=Number((Math.random()*100).toFixed(2)),w=()=>/(white)|(cursed)|(blessed)/g.exec(e.scroll.targetScroll)[0],l=_=>{s.state=_,e.scroll.targetScroll=_},d=_=>{if(!(o.category===null||typeof _!="string"))return o.category.toLowerCase().includes(_.toLowerCase())},g=(_,h)=>{let R=_.armor,A=_.mr;const N=()=>h.target.classList.toggle("hidden");r.calcEquipAttribute("minusAttribute",_),N(),_.armor=0,setTimeout(()=>{N(),_.armor=R,_.mr=A,r.calcEquipAttribute("plusAttribute",_)},o.delayTime)},I=(_,h)=>{s.state=0,t.updateChatState(),o.value=0,g(_,h),l(null)},k=_=>{const h=()=>{e.isScrollType("cursed")?o.value--:o.value+=s.state};y(_),t.updateChatState(),h(),l(null)},b=()=>{const _=()=>e.isScrollType("white")&&o.value<0||e.isScrollType("blessed")&&o.value<0||e.isScrollType("cursed")&&o.value>=Math.abs(o.safetyValue),h=()=>Math.abs(o.value)>=9,R=()=>Math.abs(o.value)<4,A=()=>Math.abs(o.value)<Math.abs(o.safetyValue),N=()=>{if(A())return s.successValue=100+s.bonus;h()?s.successValue=10+s.bonus:s.successValue=33.33+s.bonus},Y=()=>{if(A())return s.successValue=100+s.bonus;h()?s.successValue=10+s.bonus:R()?s.successValue=25+s.bonus:s.successValue=1/Math.abs(o.value)*100+s.bonus};if(_())return s.successValue=100;d("weapon")?N():d("armor")&&Y()},y=_=>s.state=Number(Math.floor(Math.random()*_)+1),C=_=>{const h=(R,A)=>{o.value+=A,s.state=R,t.updateChatState(),l(null)};switch(y(_),w()){case"white":[1,2].includes(s.state)?h(1,1):h(-1,0);break;case"cursed":[1,2,3].includes(s.state)?h(1,-1):h(-1,0);break;case"blessed":[1,2,3,4].includes(s.state)?h(1,1):h(-1,0);break}};function F(_,h){if(!!o.isEquipMatchScrollType)if(n())switch(w()){case"blessed":if(o.value<3)return k(3);if(o.value<6)return k(2);if(o.value<9)return k(1);C(6);break;case"white":o.value>=9?C(6):k(1);break;case"cursed":o.value<=-9?C(6):k(1);break}else I(_,h)}return{dice:s,target:o,isCategoryType:d,algorithmSystem:F}}),O=H("chat",()=>{const r=E(),t=K(),e=z({lines:Array(7),showNumber:M(()=>t.target.value<0?t.target.value:`+${t.target.value}`),detectColor:M(()=>r.isScrollType("cursed")?"\u9ED1\u8272\u7684":t.isCategoryType("weapon")?"\u85CD\u8272\u7684":"\u9280\u8272\u7684"),updateArmor:()=>{e.pushAndShiftArrary("\u8ACB\u9078\u64C7\u4E00\u7A2E\u9632\u5177\u3002")},updateWeapon:()=>{e.pushAndShiftArrary("\u8ACB\u9078\u64C7\u4E00\u7A2E\u6B66\u5668\u3002")},updateForOne:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u4E00\u77AC\u9593\u767C\u51FA ${e.detectColor} \u5149\u8292\u3002`)},updateForGone:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u7522\u751F\u6FC0\u70C8\u7684 ${e.detectColor} \u5149\u8292\uFF0C\u4E00\u6703\u5152\u5F8C\u5C31\u6D88\u5931\u4E86\u3002`)},updateForNope:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u6301\u7E8C\u767C\u51FA \u6FC0\u70C8\u7684 ${e.detectColor}\u5149\u8292\uFF0C\u4F46\u662F\u6C92\u6709\u4EFB\u4F55\u4E8B\u60C5\u767C\u751F\u3002`)},updateForTwoUp:()=>{e.pushAndShiftArrary(`${e.showNumber} ${t.target.name} \u6301\u7E8C\u767C\u51FA ${e.detectColor} \u5149\u8292\u3002`)},pushAndShiftArrary:p=>{typeof p=="string"&&(e.lines.push(p),e.lines.shift())}});function s(){e.lines=Array(7)}function o(){r.scroll.targetScroll!==null&&(r.scroll.targetScroll.includes("Armor")&&e.updateArmor(),r.scroll.targetScroll.includes("Weapon")&&e.updateWeapon())}function n(){t.dice.state===-1?e.updateForNope():t.dice.state===0?e.updateForGone():t.dice.state===1?e.updateForOne():e.updateForTwoUp()}return{chat:e,cleanChatLines:s,updateChatState:n,updateChatScroll:o}});const Te={class:"uiChat"},xe={__name:"UIChat",setup(r){const t=O();return(e,s)=>(i(),u("ul",Te,[(i(!0),u(x,null,L(c(t).chat.lines,(o,n)=>(i(),u("li",{key:n},m(o),1))),128))]))}},Ae=v(xe,[["__scopeId","data-v-c9f9246d"]]),Re=[{id:0,hotkey:"F5",src:"slot/slot_empty.webp",name:"\u66AB\u6642\u7A7A\u767D",description:""},{id:1,hotkey:"F6",src:"slot/slot_whiteArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u80FD\u589E\u52A0\u9632\u5177\u7684\u9632\u79A6\u529B"},{id:2,hotkey:"F7",src:"slot/slot_blessedArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u88DD\u5099\u5F37\u5316\u6578\u503C(+1~3)"},{id:3,hotkey:"F8",src:"slot/slot_cursedArmor.webp",name:"\u5C0D\u76D4\u7532\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u88DD\u5099\u5F37\u5316\u6578\u503C(-1)"},{id:4,hotkey:"F9",src:"slot/slot_empty.webp",name:"\u66AB\u6642\u7A7A\u767D",description:""},{id:5,hotkey:"F10",src:"slot/slot_whiteWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u80FD\u589E\u52A0\u6B66\u5668\u7684\u653B\u64CA\u529B"},{id:6,hotkey:"F11",src:"slot/slot_blessedWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u6B66\u5668\u5F37\u5316\u6578\u503C(+1~3)"},{id:7,hotkey:"F12",src:"slot/slot_cursedWeapon.webp",name:"\u5C0D\u6B66\u5668\u65BD\u6CD5\u7684\u5377\u8EF8",description:"\u5F37\u5316\u6210\u529F\u53EF\u5C07\u6B66\u5668\u5F37\u5316\u6578\u503C(-1)"}];const Ve={class:"uiSlot"},Le=["src"],Ee={class:"slotInfo"},Fe={__name:"UISlot",setup(r){W(l=>({"24f5867e":e.value}));const t=G(Re),e=G(""),s=$(),o=O(),n=E(),p=l=>{const d={grey:"var(--color-grey)",white:"var(--color-white)",yellow:"var(--color-yellow)",red:"var(--color-red)"};return/blessed/.test(l)?e.value=d.yellow:/cursed/.test(l)?e.value=d.red:e.value=d.white},w=l=>{const d=Array.from(document.querySelector(".uiSlot").children);l.preventDefault(),l.stopPropagation(),d.forEach(g=>{const I=y=>{g.lastElementChild.style.opacity=y},k=y=>g.classList.remove(y),b=y=>g.classList.add(y);k("active"),I(0),g.matches(`.${l.key}`)&&(p(g.firstChild.src),b("active"),I(1),n.scroll.changeScroll(l.key),o.updateChatScroll())})};return q(()=>document.addEventListener("keydown",w)),ee(()=>document.removeEventListener("keydown",w)),(l,d)=>(i(),u("section",Ve,[(i(!0),u(x,null,L(t.value,g=>(i(),u("figure",{key:g.id,class:S(g.hotkey)},[a("img",{src:c(s).getUrlForHashWhenProd(g.src)},null,8,Le),a("figcaption",Ee,[a("h1",null,m(g.name),1),a("p",null,m(g.description),1)])],2))),128))]))}},Ne=v(Fe,[["__scopeId","data-v-4f0dce11"]]);const J=r=>(P("data-v-c217ee78"),r=r(),D(),r),ze={class:"uiNumber"},Me=J(()=>a("li",{class:"line1"},[a("div",{class:"lv"},"1"),a("div",{class:"exp"},"0.00%")],-1)),Pe={class:"line2"},De={class:"ac"},Oe=J(()=>a("div",{class:"state"},"0",-1)),He={__name:"UINumber",setup(r){const t=$();return(e,s)=>(i(),u("ul",ze,[Me,a("li",Pe,[a("div",De,m(c(t).getAC),1),Oe])]))}},We=v(He,[["__scopeId","data-v-c217ee78"]]);const Ge=["onClick"],Be=a("li",{class:"close"},null,-1),je=a("li",{class:"content"},"\u672A\u958B\u653E",-1),Ke=[Be,je],Je={__name:"UIRelationShip",setup(r){const t=T(),e=s=>{const o=s.target,n=()=>{(()=>{o.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};if(o.tagName!=="UL"&&o.className==="close")return n()};return(s,o)=>(i(),u("ul",{class:"uiRelationship",onClick:U(e,["stop"])},Ke,8,Ge))}};const Qe=["onClick"],Xe=a("li",{class:"close"},null,-1),Ye=[Xe],Ze={__name:"UIItems",setup(r){const t=T(),e=s=>{const o=s.target,n=()=>{(()=>{o.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};if(o.tagName!=="FIGURE"&&o.className==="close")return n()};return(s,o)=>(i(),u("figure",{class:"uiItems",onClick:U(e,["stop"])},Ye,8,Qe))}};const qe=["onClick"],et=a("li",{class:"close"},null,-1),tt={class:"magicNumber"},st=a("li",{class:"magicPower"},"0",-1),ot={class:"magicResist"},lt={__name:"UIMagic",setup(r){const t=$(),e=T(),s=o=>{const n=o.target,p=()=>{(()=>{n.parentElement.classList.remove("visible")})(),e.clickToPlayAudio("UI/audio_itemsClose.mp3")};n.tagName!=="UL"&&n.className==="close"&&p()};return(o,n)=>(i(),u("ul",{class:"uiMagic",onClick:U(s,["stop"])},[et,a("ul",tt,[st,a("li",ot,m(c(t).getMR),1)])],8,qe))}};const at=r=>(P("data-v-e6b9aabf"),r=r(),D(),r),rt={class:"uiHelp"},ct=["onClick"],nt=at(()=>a("li",{class:"textContainer"},[a("h1",{class:"title"},"Side project\u7531\u4F86"),a("p",{class:"content"},m(`     
    \u9748\u611F\u4F86\u6E90\u70BA\u201C\u5929\u5802\u7206\u7206\u6A02\u903C\u771F\u7248\u201D\uFF0C\u4E3B\u8981\u662F\u7DF4\u7FD2\u6280\u80FD\u548C\u56DE\u61B6\u5929\u5802\u3002

    \u7576\u7B2C\u4E00\u7248\u5FA9\u523B\u5B8C\u6210\u5F8C\uFF0C\u7E3D\u89BA\u5F97\u9084\u53EF\u4EE5\u52A0\u4E9B\u4EC0\u9EBC\uFF0C\u6240\u4EE5\u5C31\u8E0F\u4E0A\u4E86\u7684\u512A\u5316\u65C5\u7A0B\u3002
    
    \u8CC7\u6599\u548C\u7D20\u6750\u53D6\u81EA\u7DB2\u8DEF\u3001\u5929\u5802\uFF37\u3001\u5DF4\u54C8\u59C6\u7279\u3001\u5B98\u65B9\u7DB2\u7AD9\u4EE5\u53CA\u904A\u6232\u4E3B\u7A0B\u5F0F\u3002`))],-1)),it={__name:"UIHelp",setup(r){const t=T(),e=s=>{(()=>{s.target.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};return(s,o)=>(i(),u("ul",rt,[a("li",{class:"close",onClick:U(e,["stop"])},null,8,ct),nt]))}},_t=v(it,[["__scopeId","data-v-e6b9aabf"]]);const ut={class:"uiRoleNumber"},dt={class:"level"},gt={class:"lv"},mt={class:"exp"},pt={class:"basic"},ft={class:"attributes"},ht={class:"er"},yt={__name:"UIRoleNumber",setup(r){const t=$(),{role:e}=j(t);return(s,o)=>(i(),u("ul",ut,[a("ul",dt,[a("li",gt,m(c(e).currentData.basic.lv),1),a("li",mt,m(c(e).currentData.basic.exp),1)]),a("ul",pt,[a("li",null,m(c(e).currentData.basic.hp)+"/"+m(c(e).currentData.basic.hp),1),a("li",null,m(c(e).currentData.basic.mp)+"/"+m(c(e).currentData.basic.mp),1),a("li",null,m(c(t).getAC),1)]),a("ul",ft,[a("li",null,m(c(e).currentData.basic.str),1),a("li",null,m(c(e).currentData.basic.dex),1),a("li",null,m(c(e).currentData.basic.con),1),a("li",null,m(c(e).currentData.basic.int),1),a("li",null,m(c(e).currentData.basic.wis),1),a("li",null,m(c(e).currentData.basic.cha),1)]),a("li",ht,m(c(t).getER()),1)]))}};const bt={class:"uiRoleEquip"},vt=["onClick","data-displayEquipInfo"],wt={__name:"uiRoleEquip",setup(r){W(l=>({"61a71cd7":o(),ee07e644:p(5)}));const t=$(),e=K(),s=E(),o=()=>s.scroll.targetScroll===null?`url(${t.getUrlForHashWhenProd("UI/UI_pointer.webp")}), auto`:`url(${t.getUrlForHashWhenProd("UI/UI_target.webp")}), auto`,n=l=>{const d=b=>b>=0?`+${b}`:b,g=()=>{const b=()=>`${d(l.value)} ${l.name} (\u4F7F\u7528\u4E2D)
\u9632\u79A6 ${l.armor}${d(l.value)}`,y=()=>`${d(l.value)} ${l.name} (\u63EE\u821E)
\u653B\u64CA\u529B ${l.attack.small}${d(l.value)}/${l.attack.large}${d(l.value)}`+F(),C=()=>`${l.name} (\u4F7F\u7528\u4E2D)`,F=()=>/雙手武器/.test(l.grip)?`
  \u96D9\u624B\u6B66\u5668`:"";if(l.category==="weapon")return y();if(l.category.includes("armor"))return b();if(l.category.includes("jewelry"))return C()},I=()=>{const b=()=>{const C=()=>{if(l.mr===void 0)return"";if(/cloak/.test(l.category))return d(l.mr+l.value*2);if(/helmet|bodyArmor/.test(l.category))return d(l.mr+l.value)};return`\u53EF\u4F7F\u7528\u8077\u696D:
${l.occupation}
  ${l.feature} ${C()}`},y=()=>`\u53EF\u4F7F\u7528\u8077\u696D:
${l.occupation}`;return l.feature?l.category.includes("jewelry")?"":b():y()},k=()=>l.category.includes("jewelry")?"":`\u6750\u8CEA:${l.material}
  \u91CD\u91CF ${l.weight}`;return`${g()}
  ${I()}
  ${k()}`},p=l=>{const d=t.role.currentRole,g=t.role.currentData.equips,I={grey:"var(--color-grey)",white:"var(--color-white)",yellow:"var(--color-yellow)",red:"var(--color-red)"};return(({index:y,armorType:C})=>{if(g[y].category.includes(C))switch(d){case"royal":if(C==="cloak")return I.yellow;break;default:return I.white}})([{index:0,armorType:"weapon"},{index:1,armorType:"helmet"},{index:2,armorType:"amulet"},{index:3,armorType:"shirt"},{index:4,armorType:"bodyArmor"},{index:5,armorType:"cloak"},{index:6,armorType:"left-ring"},{index:7,armorType:"belt"},{index:8,armorType:"shield"},{index:9,armorType:"gloves"},{index:10,armorType:"right-ring"},{index:11,armorType:"boots"}][l])},w=(l,d)=>{e.target.name=l.name,e.target.value=l.value,e.target.category=l.category,e.target.safetyValue=l.safetyValue,e.algorithmSystem(l,d),setTimeout(()=>{l.value=e.target.value},0)};return(l,d)=>(i(),u("ul",bt,[(i(!0),u(x,null,L(c(t).role.currentData.equips,g=>(i(),u("li",{key:g.id,class:S(["equip",g.category]),style:te({backgroundImage:`url(${c(t).getUrlForHashWhenProd(g.src)})`}),onClick:U(I=>w(g,I),["stop"]),"data-displayEquipInfo":n(g)},null,14,vt))),128))]))}},$t=v(wt,[["__scopeId","data-v-6cda2b55"]]);const It={class:"uiRole visible"},kt=["onClick"],Ct={__name:"UIRole",setup(r){const t=T(),e=s=>{(()=>{s.target.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")};return(s,o)=>(i(),u("section",It,[a("div",{class:"close",onClick:U(e,["stop"])},null,8,kt),f(yt),f($t)]))}},St=v(Ct,[["__scopeId","data-v-1c0d0864"]]);const Q=r=>(P("data-v-2b78753e"),r=r(),D(),r),Ut=["onClick"],Tt=Q(()=>a("li",{class:"close"},null,-1)),xt=Q(()=>a("li",null,"\u9078\u9805",-1)),At={class:"music"},Rt={__name:"UISetting",setup(r){const t=T(),e=M(()=>t.state?"\u958B":"\u95DC"),s=o=>{const n=o.target,p=()=>{(()=>{n.parentElement.classList.remove("visible")})(),t.clickToPlayAudio("UI/audio_itemsClose.mp3")},w=()=>{t.state=!t.state,t.state===!0?t.playAudio():t.pauseAudio()};n.tagName!=="UL"&&(n.className==="music"&&w(),n.className==="close"&&p())};return(o,n)=>(i(),u("ul",{class:"uiSetting",onClick:U(s,["stop"])},[Tt,xt,a("li",At,[se(" \u80CC\u666F\u97F3\u6548: "),a("span",null,m(c(e)),1)])],8,Ut))}},Vt=v(Rt,[["__scopeId","data-v-2b78753e"]]);const X=r=>(P("data-v-b3327f14"),r=r(),D(),r),Lt=["onClick"],Et=X(()=>a("li",{class:"close"},null,-1)),Ft=X(()=>a("li",{class:"cancel"},null,-1)),Nt={__name:"UILogout",setup(r){const t=T(),e=O(),s=E(),o=n=>{const p=n.target,w=()=>e.chat.lines=Array(7),l=()=>p.parentElement.classList.remove("visible");p.tagName!=="FIGURE"&&(p.className==="restart"&&(s.scroll.targetScroll=null,w()),(p.className==="close"||p.className==="cancel")&&l(),t.clickToPlayAudio("UI/audio_itemsClose.mp3"))};return(n,p)=>(i(),u("figure",{class:"uiLogout",onClick:U(o,["stop"])},[Et,f(c(B),{to:"/roles",class:"restart"}),f(c(B),{to:"/logout",class:"quit"}),Ft],8,Lt))}},zt=v(Nt,[["__scopeId","data-v-b3327f14"]]);const Mt=["onClick"],Pt={class:"btnHelp"},Dt={class:"btnRole"},Ot={class:"btnMagic"},Ht={class:"btnItems"},Wt={class:"btnRelationship"},Gt={class:"btnSetting"},Bt={class:"btnLogout"},jt={__name:"UIFunction",setup(r){const t=T(),e=s=>{if(s.target.tagName!=="LI")return;const o=["btnHelp","btnRole","btnSetting","btnRelationship"],n=["btnMagic","btnItems","btnLogout"],p=s.target.className,w=s.target.firstElementChild.className,l=s.target.firstElementChild.classList,d=y=>{Array.from(s.target.parentElement.children).filter(_=>y.includes(_.className)).map(({firstChild:{classList:_}})=>_.remove("visible"))},g=()=>w.includes("visible"),I=()=>o.includes(p),k=()=>l.toggle("visible"),b=()=>{g()?t.clickToPlayAudio("UI/audio_itemsClose.mp3"):t.clickToPlayAudio("UI/audio_itemsOpen.mp3")};if(g()){k(),b();return}I()?d(o):d(n),k(),b()};return(s,o)=>(i(),u("ul",{class:"uiFunction",onClick:U(e,["stop"])},[a("li",Pt,[f(_t)]),a("li",Dt,[f(St)]),a("li",Ot,[f(lt)]),a("li",Ht,[f(Ze)]),a("li",Wt,[f(Je)]),a("li",Gt,[f(Vt)]),a("li",Bt,[f(zt)])],8,Mt))}},Kt=v(jt,[["__scopeId","data-v-fea434a8"]]);const Jt={class:"panelUI"},Qt={__name:"PanelUI",setup(r){return(t,e)=>(i(),u("section",Jt,[f(Ue),f(Ae),f(Ne),f(We),f(Kt)]))}};const Xt={class:"singlePlayerContainer"},Yt=["src"],ts={__name:"SinglePlayer",setup(r){W(s=>({"43932e50":c(t).role.currentBackGround}));const t=$(),e=T();return(s,o)=>(i(),u("article",Xt,[f($e),f(Qt),a("audio",{autoplay:"",loop:"",src:c(e).getRoleAudioUrl()},null,8,Yt)]))}};export{ts as default};
